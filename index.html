<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICustomer Example</title>
    <link rel="stylesheet" href="index.css">
    
    <!-- Include tracking script -->
    <script src="https://cdn.jsdelivr.net/gh/vigneshICustomer/iCustomer-jitsu-config/iCustomer.js"></script>

    <script>
        // Initialize once at start
        ICustomerService.initialize({
            tenantId: "zillasecurity-8938439037"
        });

        // Example usage of static methods
        async function onSubmit(event) {
            event.preventDefault();
            const email = document.getElementById('emailInput').value;
            
            try {
                // Use static identify method
                await ICustomerService.identify(email, {
                    email: email,
                    source: 'signup_form'
                });

                // Use static track method
                await ICustomerService.track('signup_success', {
                    email: email,
                    timestamp: new Date().toISOString()
                });

                // Use static getCurrentUser method
                const userId = ICustomerService.getCurrentUser();
                document.getElementById('status').textContent = 'Success! User ID: ' + userId;
            } catch (error) {
                document.getElementById('status').textContent = 'Error: ' + error.message;
            }
        }
    </script>
</head>
<body>
    <div style="margin: 20px;">
        <h2>Static Method Usage Example</h2>
        
        <form onsubmit="onSubmit(event)">
            <input 
                type="email" 
                id="emailInput" 
                placeholder="Enter your email" 
                required 
                style="padding: 8px; margin-right: 10px;"
            >
            <button type="submit" style="padding: 8px 16px;">
                Sign Up
            </button>
        </form>

        <div id="status" style="margin-top: 10px; color: #666;"></div>

        <p style="margin-top: 20px; color: #666;">
            Using static methods:
            <br>ICustomerService.initialize()
            <br>ICustomerService.identify()
            <br>ICustomerService.track()
            <br>ICustomerService.getCurrentUser()
        </p>
    </div>
</body>
</html>
